(()=>{var e={121:(e,o,n)=>{"use strict";function t(e,o){(null==o||o>e.length)&&(o=e.length);for(var n=0,t=new Array(o);n<o;n++)t[n]=e[n];return t}function r(e,o){if(e){if("string"==typeof e)return t(e,o);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,o):void 0}}function i(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(e){var o=function(e,o){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,o||"default");if("object"!==l(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"===l(o)?o:String(o)}function _(e,o,n){return(o=a(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e}function c(e){return{listen:function(o){var n,t=function(e){o(e.detail)};return null===(n=window)||void 0===n||n.addEventListener(e,t),function(){var o;null===(o=window)||void 0===o||o.removeEventListener(e,t)}},send:function(o){var n;null===(n=window)||void 0===n||n.dispatchEvent(new CustomEvent(e,{detail:o}))}}}n.r(o),n.d(o,{interactiveFooter:()=>b});var s=function(e){return e.UPDATE_MF_FOOTER_DATA="UPDATE_MF_FOOTER_DATA",e.UPDATE_MF_FOOTER_HTML="UPDATE_MF_FOOTER_HTML",e.UPDATE_MF_HEADER_HTML="UPDATE_MF_HEADER_HTML",e.REACH_GOAL="REACH_GOAL",e.CHAT_TRIGGER="CHAT_TRIGGER",e.UPDATE_CHAT_UNREAD="UPDATE_CHAT_UNREAD",e.CHANGE_MF_HEADER_VISIBILITY="CHANGE_MF_HEADER_VISIBILITY",e.OFFER_PLACEMENT_TRIGGER_FROM_HEADER="OFFER_PLACEMENT_TRIGGER_FROM_HEADER",e.OFFER_PLACEMENT_TRIGGER_FROM_MENU="OFFER_PLACEMENT_TRIGGER_FROM_MENU",e}({}),E=_(_(_(_(_(_(_(_(_({},s.UPDATE_MF_FOOTER_DATA,c(s.UPDATE_MF_FOOTER_DATA)),s.UPDATE_MF_FOOTER_HTML,c(s.UPDATE_MF_FOOTER_HTML)),s.UPDATE_MF_HEADER_HTML,c(s.UPDATE_MF_HEADER_HTML)),s.CHANGE_MF_HEADER_VISIBILITY,c(s.CHANGE_MF_HEADER_VISIBILITY)),s.REACH_GOAL,c(s.REACH_GOAL)),s.CHAT_TRIGGER,c(s.CHAT_TRIGGER)),s.UPDATE_CHAT_UNREAD,c(s.UPDATE_CHAT_UNREAD)),s.OFFER_PLACEMENT_TRIGGER_FROM_HEADER,c(s.OFFER_PLACEMENT_TRIGGER_FROM_HEADER)),s.OFFER_PLACEMENT_TRIGGER_FROM_MENU,c(s.OFFER_PLACEMENT_TRIGGER_FROM_MENU)),d=function(e){return function(){E[s.REACH_GOAL].send({name:e.goal,payload:e.payload})}};function p(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,r,i,l,a=[],_=!0,c=!1;try{if(i=(n=n.call(e)).next,0===o){if(Object(n)!==n)return;_=!1}else for(;!(_=(t=i.call(n)).done)&&(a.push(t.value),a.length!==o);_=!0);}catch(e){c=!0,r=e}finally{try{if(!_&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw r}}return a}}(e,o)||r(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O,u=function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new IntersectionObserver((function(t){p(t,1)[0].isIntersecting&&(d(e)(),o&&n.disconnect())}),arguments.length>2?arguments[2]:void 0);return n},f={ALL:{SHOW:"chat.all.show"},YA_ARENDA:{SHOW:"ya-arenda.chat.show"}},A={CLICK:"footer.click",SHOW:"footer.show",SHOW_ACCORDION:"footer.show_accordion",SHOW_MORE:"footer.show_more"},m={ALL:{RETURN_CALL:"all.phone.return.call",SHOW:"phone.all.show"},APARTMENT:{NEW_FLAT:{SHOW:"phone.sell.apartment.new_flat.show"},NEW_SECONDARY:{SHOW:"phone.sell.apartment.new_secondary.show"},SECONDARY:{SHOW:"phone.sell.apartment.secondary.show"},SHOW:"phone.apartment.show"},CARD:{FAVORITES:{SHOW:"card.phone.favorites"},FLAT_RENT:{SHOW:"card.rent.flat.phone"},FLAT_SELL:{SHOW:"card.sell.flat.phone"},FLOATING_HEAD:{SHOW:"card.phone.floating_head"},LISTING:{SHOW:"card.phone.listing"},NEWBUILDING:{SHOW:"card.newbuilding.phone.show",SHOW_PAYED:"card.newbuilding.payed.phone.show"},PHOTO:{SHOW:"card.photo.phone"},SHOW:"card.phone.total",SNIPPET_MAP:{NEWBUILDING:{SHOW:"card.snippet_map.nb.phone"},NOT_NEWBUILDING:{SHOW:"card.snippet_map.not_nb.phone"},SHOW:"card.snippet_map.phone"}},ELIT_NEWBUILDING:{SHOW:"call.show.elit.newbuilding"},NEWBUILDING:{RETURN_CALL:"nb.phone.return.call",RETURN_CALL_PAYED:"nb.phone.return.call.paid",SHOW:"nb.phone.show",SHOW_PAYED:"nb.phone.show.payed"},OFFER:{APARTMENT:{SHOW:"phone.apartment.show"},COMMERCIAL:{SHOW:"phone.commercial.show"},GARAGE:{SHOW:"phone.garage.show"},HOUSE:{SHOW:"phone.house.show"},LOT:{SHOW:"phone.lot.show"},RENT:{APARTMENT:{SHOW:"phone.rent.apartment.show"},COMMERCIAL:{SHOW:"phone.rent.commercial.show"},GARAGE:{SHOW:"phone.rent.garage.show"},HOUSE:{SHOW:"phone.rent.house.show"},LOT:{SHOW:"phone.rent.lot.show"},ROOMS:{SHOW:"phone.rent.rooms.show"},SHOW:"phone.rent.show"},ROOMS:{SHOW:"phone.rooms.show"},SELL:{APARTMENT:{SHOW:"phone.sell.apartment.show"},COMMERCIAL:{SHOW:"phone.sell.commercial.show"},GARAGE:{SHOW:"phone.sell.garage.show"},HOUSE:{SHOW:"phone.sell.house.show"},LOT:{SHOW:"phone.sell.lot.show"},ROOMS:{SHOW:"phone.sell.rooms.show"},SHOW:"phone.sell.show"}},PROFSEARCH:{LIST:{SHOW:"profsearch.phone.show.list"},TOTAL:{SHOW:"profsearch.phone.show.total"}},SAMOLET:{BACK_CALL:{ALL:"samolet.all.phones.callbacks"},SHOW:"samolet.all.phones.show"},SHOW:"phone_show",VILLAGE:{DEV_OBJECTS:{SHOW:"card.village.devobjects.phone.show"},SHOW:"village.phone.show",SHOW_PAYED:"village.phone.show.payed"},YA_ARENDA:{SHOW:"phone.yaarenda.show"},YM:{SHOW_CONTACTS:"ym-show-contacts"}},R={CLOSE:{CLICK:"promo_banner.close.click"},DEFAULT:"promo_banner",DOWNLOAD:{CLICK:"promo_banner.download.click",SHOW:"promo_banner.download.show"},SHOW:"promo_banner.show"},I=function(e){return e.OFFER_PRICE="offerPrice",e.OFFER_PRICE_SERP="offerPrice_serp",e.OFFER_PRICE_SERP_MAP="offerPrice_serp_map",e.OFFER_SERP="offers_serp",e.OFFER_SERP_EMPTY="offers_serpEmpty",e.OFFER_SERP_MAP="offers_serp_map",e.OFFERS_FLOAT="offers_float",e.OFFER_BUILDING="offerBuilding",e.NEWBUILDING="newbuilding",e.NEWBUILDING_SERP="newbuilding_serp",e.NEWBUILDING_SERP_MAP="newbuilding_serp_map",e.NEWBUILDING_DEV_OBJECTS="newbuilding_dev_objects",e.NEWBUILDING_SIMILAR_OBJECTS="newbuilding_similar_objects",e.NEWBUILDING_SERP_SPEC_PROJECT="newbuilding_serp_spec_project",e.NEWBUILDING_SPECIAL="newbuildingSpecial",e.DEVELOPER_MAP_OBJECTS="developer_map_objects",e.DEVELOPER_OBJECTS="developer_objects",e.FAVORITE_MAP_OBJECTS="favorite_map_objects",e.OFFERPRICE_FAVORITE_MAP="offerPrice_favorite_map",e.PLANS_SERP="svodnaya_zhk_all_layouts",e}({}),h=(_({offerPrice:"offers",offerPrice_serp:"offers",offerPrice_serp_map:"offers",offers_serp:"offers",offers_serpEmpty:"offers",offers_serp_map:"offers",offers_float:"offers",offerBuilding:"offers",newbuilding:"newbuilding",newbuilding_serp:"newbuilding",newbuilding_serp_map:"newbuilding",newbuilding_dev_objects:"newbuilding",newbuilding_similar_objects:"newbuilding",newbuilding_serp_spec_project:"newbuilding",newbuildingSpecial:"newbuilding",developer_map_objects:"newbuilding",developer_objects:"newbuilding",favorite_map_objects:"favorites",offerPrice_favorite_map:"favorites"},I.PLANS_SERP,"newbuilding"),_({offerPrice:"card",offerPrice_serp:"serp",offerPrice_serp_map:"map",offers_serp:"serp",offers_serpEmpty:"serp",offers_serp_map:"map",offers_float:"serp",offerBuilding:"card",newbuilding:"card",newbuilding_serp:"serp",newbuilding_serp_map:"map",newbuilding_dev_objects:"card",newbuilding_similar_objects:"card",newbuilding_serp_spec_project:"serp",newbuildingSpecial:"card",developer_map_objects:"map",developer_objects:"card",favorite_map_objects:"map",offerPrice_favorite_map:"map"},I.PLANS_SERP,"serp"),_(_(_(_(_(_(_(_(_(_(O={},m.NEWBUILDING.RETURN_CALL,{Newbuilding_pregoal_one:{timesToAchieve:1},Newbuilding_pregoal_two:{timesToAchieve:1}}),m.ALL.RETURN_CALL,{pregoal_secondary_1:{timesToAchieve:1},pregoal_secondary_2:{timesToAchieve:1},pregoal_secondary_3:{timesToAchieve:1}}),f.YA_ARENDA.SHOW,{pregoal_human_rent_1:{timesToAchieve:1}}),m.YA_ARENDA.SHOW,{pregoal_human_rent_1:{timesToAchieve:1}}),"card.newbuilding.show",{Newbuilding_pregoal_one:{timesToAchieve:3},Newbuilding_pregoal_two:{timesToAchieve:1},pregoal_secondary_2:{timesToAchieve:1},pregoal_secondary_3:{timesToAchieve:1}}),"card.offer.virtualTour.show",{pregoal_human_rent_1:{timesToAchieve:1}}),"card.plans.offers.click",{Newbuilding_pregoal_one:{timesToAchieve:1}}),"card.sell.flat.show",{pregoal_secondary_1:{timesToAchieve:1}}),"five_minutes_of_use",{Newbuilding_pregoal_two:{timesToAchieve:1}}),"photo",{pregoal_secondary_3:{params:{photo:{eventplace:"offer_base_info",photo_position:"start"}},timesToAchieve:2}}),_(_(_(_(O,"preset.click",{pregoal_secondary_2:{timesToAchieve:1}}),"shortcuts.click",{Newbuilding_pregoal_one:{timesToAchieve:2},Newbuilding_pregoal_two:{timesToAchieve:1},pregoal_secondary_2:{timesToAchieve:1}}),"six_minutes_of_use",{pregoal_human_rent_1:{timesToAchieve:1}}),"ya-arenda.card.show",{pregoal_human_rent_1:{timesToAchieve:2}}),{index:"main",offers:"offers","plans-search":I.PLANS_SERP,sites:"newbuilding","sites-search":"newbuilding",villages:"village","villages-search":"village"}),T="realty-footer-",g={ACCORDION_BLOCK_ICON_PREFIX:T+"accordion-block-icon-",ACCORDION_CONTENT_PREFIX:T+"accordion-content-",ACCORDION_HEADING_PREFIX:T+"accordion-heading-",ACCORDION_ICON_PREFIX:T+"accordion-icon-",ACCORDION_MORE_BLOCK_PREFIX:T+"accordion-more-block-",ACCORDION_MORE_PREFIX:T+"accordion-more-",APP_LINK:T+"app-link",BLOCK_PREFIX:T+"block-",COLUMNS:T+"columns",LINK_BLOCK_PREFIX:T+"link-block-",LINKS_TAB:T+"links-tab",TAB_LINK_PREFIX:T+"tab-link-"},N="mf-footer-config-data",L="mf-footer-config-data",S=(Object.fromEntries(Object.entries({ACCORDION_ADDITIONAL_CONTENT:"accordion-additional-content",ACCORDION_CONTENT:"accordion-content",ACCORDION_HEADER:"accordion-header",ACCORDION_SECTION:"accordion-section",CACHED_LINKS:"cached-links",COPYRIGHT_LINKS:"copyright-link",FOOTER_CONTAINER:"footer-container",LEGAL:"legal",LINKS:"links",LOGO:"logo",LOGO_REALTY:"logo-realty",LOGO_REALTY_TEXT:"logo-realty-text",LOGO_YA:"logo-ya",MOBILE_APP_DOWNLOAD:"app-download",SEO_TEXT:"seo-text",YA_PROJECTS:"ya-projects",YANDEX_SERVICE_LINK:"ya-service-link"}).map((function(e){var o=p(e,2),n=o[0],t=o[1];return[n,T+t]}))),"all");function C(e,o){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),n.push.apply(n,t)}return n}function v(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?C(Object(n),!0).forEach((function(o){_(e,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))}))}return e}var y=function(e){return"index"===e?function(e){return e&&h[e]||e}(e):void 0},b=function(e){var o,n=S,t=[],r=[],l=window[L+e];delete window[L+e],null===(o=document.getElementById(N+e))||void 0===o||o.remove();var a=function(){window.document.querySelectorAll("#".concat(e," img[id^='svg-sprite']")).forEach((function(e){var o,n;return null===(o=(n=window).convertSVG)||void 0===o?void 0:o.call(n,e)}));var o,a=i(document.querySelectorAll("[id^='".concat(g.TAB_LINK_PREFIX,"']"))),c=i(document.querySelectorAll("[id^='".concat(g.LINK_BLOCK_PREFIX,"']"))),s=i(document.querySelectorAll("[id^='".concat(g.ACCORDION_HEADING_PREFIX,"']"))),E=i(document.querySelectorAll("[id^='".concat(g.ACCORDION_MORE_PREFIX,"']"))),p=document.querySelector("#".concat(e)),O=(o=p)?i(o.querySelectorAll("a[href]")):[],f=document.getElementById(g.COLUMNS),m=document.getElementById(g.LINKS_TAB),I=[],h=u({goal:A.SHOW,id:e});p&&h.observe(p);var T,N=function(e){return function(){f&&(f.style.display="none"),m&&(m.style.display="block");var o=document.getElementById(g.BLOCK_PREFIX+n),t=document.getElementById(g.TAB_LINK_PREFIX+n);o&&(o.style.display="none"),t&&(t.style.display="block"),n=e,o=document.getElementById(g.BLOCK_PREFIX+n),t=document.getElementById(g.TAB_LINK_PREFIX+n),o&&(d({goal:A.SHOW_MORE,id:e,payload:{blockId:e}})(),o.style.display="block"),t&&(t.style.display="none")}},L=function(e){return function(){var o,n=-1!==t.indexOf(e),r=document.getElementById(g.ACCORDION_CONTENT_PREFIX+e),i=document.getElementsByClassName(g.ACCORDION_ICON_PREFIX+e)[0],l=null==r||null===(o=r.childNodes[0])||void 0===o?void 0:o.clientHeight;r&&i&&(n?(t=t.filter((function(o){return o!==e})),r.style.maxHeight="0px",i.style.transform="rotate(0deg)",i.style.color="#c2c2c2"):(d({goal:A.SHOW_ACCORDION,id:e,payload:{blockId:e}})(),t.push(e),r.style.maxHeight="".concat(l,"px"),i.style.transform="rotate(180deg)",i.style.color="#000"))}},C=function(e){return function(){var o,n,t=-1!==r.indexOf(e),i=document.getElementById(g.ACCORDION_MORE_BLOCK_PREFIX+e),l=document.getElementById(g.ACCORDION_MORE_PREFIX+e),a=document.getElementById(g.ACCORDION_BLOCK_ICON_PREFIX+e),_=document.getElementById(g.ACCORDION_CONTENT_PREFIX+e),c=null==_||null===(o=_.childNodes[0])||void 0===o?void 0:o.clientHeight,s=null==i||null===(n=i.childNodes[0])||void 0===n?void 0:n.clientHeight;i&&l&&_&&(t?(r=r.filter((function(o){return o!==e})),_.style.maxHeight="".concat(c-s,"px"),i.style.maxHeight="0px",l.firstElementChild&&(l.firstElementChild.textContent="Показать еще"),a&&(a.style.transform="rotate(0deg)")):(d({goal:A.SHOW_MORE,id:e,payload:{blockId:e}})(),r.push(e),_.style.maxHeight="".concat(c+s,"px"),i.style.maxHeight="".concat(s,"px"),l.firstElementChild&&(l.firstElementChild.textContent="Свернуть"),a&&(a.style.transform="rotate(180deg)")))}},b=(T=null==l?void 0:l.pageType,[{goal:R.DOWNLOAD.CLICK,id:g.APP_LINK,payload:{promo_banner_download:{page:y(T),placement:"footer"}}}]).map((function(e){return v(v({},e),{},{element:document.getElementById(e.id)})})),w=function(e){return[{goal:R.DOWNLOAD.SHOW,id:g.APP_LINK,payload:_({},R.DOWNLOAD.SHOW,{page:y(e),placement:"footer"})}]}(null==l?void 0:l.pageType).map((function(e){return v(v({},e),{},{element:document.getElementById(e.id)})}));(a.map((function(e){return e.addEventListener("click",N(e.id.replace(g.TAB_LINK_PREFIX,"")))})),c.map((function(e){return e.addEventListener("click",N(e.id.replace(g.LINK_BLOCK_PREFIX,"")))})),s.map((function(e){return e.addEventListener("click",L(e.id.replace(g.ACCORDION_HEADING_PREFIX,"")))})),E.map((function(e){return e.addEventListener("click",C(e.id.replace(g.ACCORDION_MORE_PREFIX,"")))})),b.map((function(e){var o;return null===(o=e.element)||void 0===o?void 0:o.addEventListener("click",d(e))})),w.map((function(e){var o=u(e),n=e.element;n&&(o.observe(n),I.push(o))})),O.map((function(e){return e.addEventListener("click",(o=e.textContent||"",n=e.href,d({goal:A.CLICK,id:n,payload:{href:n,label:o}})));var o,n})),n!==S)&&(document.getElementById(g.BLOCK_PREFIX+n)?N(n)():n=S);return function(){h.disconnect(),a.map((function(e){return e.removeEventListener("click",N(e.id.replace(g.TAB_LINK_PREFIX,"")))})),c.map((function(e){return e.removeEventListener("click",N(e.id.replace(g.LINK_BLOCK_PREFIX,"")))})),s.map((function(e){return e.removeEventListener("click",L(e.id.replace(g.ACCORDION_HEADING_PREFIX,"")))})),E.map((function(e){return e.removeEventListener("click",C(e.id.replace(g.ACCORDION_MORE_PREFIX,"")))})),b.map((function(e){var o;return null===(o=e.element)||void 0===o?void 0:o.removeEventListener("click",d(e))})),I.map((function(e){return e.disconnect()}))}},c=a();E[s.UPDATE_MF_FOOTER_HTML].listen((function(o){var n=o.html;c();var t=window.document.getElementById(e);t&&(t.innerHTML=n),c=a()}))}}},o={};function n(t){var r=o[t];if(void 0!==r)return r.exports;var i=o[t]={exports:{}};return e[t](i,i.exports,n),i.exports}n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(0,n(121).interactiveFooter)("footer")})();
//# sourceMappingURL=https://s3.mds.yandex.net/vertis-frontend-private/realty-mf-footer/sourcemaps/interactive-client.client.638b620d26d4bf427944.js.map